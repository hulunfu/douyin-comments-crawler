# 安装说明

## 快速安装（推荐）

### Windows 用户

1. **安装 Python**
   - 下载 Python 3.10+：https://www.python.org/downloads/
   - 安装时勾选 "Add Python to PATH"

2. **安装 Chrome 浏览器**
   - 如果还没有，请安装：https://www.google.com/chrome/

3. **下载项目文件**
   - 下载或克隆本项目到本地

4. **安装依赖**
   ```cmd
   # 打开命令行，进入项目目录
   cd D:\MCP  # 你的项目路径
   
   # 创建虚拟环境（可选但推荐）
   python -m venv venv
   venv\Scripts\activate
   
   # 安装依赖
   pip install -r requirements.txt
   ```

5. **启动服务**
   - 双击 `start_api_server.bat`
   - 或手动运行：`python douyin_analysis_api_server.py`

6. **打开网页界面**
   - 双击 `douyin_comments_client.html`

### macOS/Linux 用户

1. **安装 Python 3.10+**
   ```bash
   # macOS (使用 Homebrew)
   brew install python3
   
   # Linux (Ubuntu/Debian)
   sudo apt update
   sudo apt install python3 python3-pip python3-venv
   ```

2. **安装 Chrome 浏览器**
   - macOS: https://www.google.com/chrome/
   - Linux: `sudo apt install google-chrome-stable`

3. **安装依赖**
   ```bash
   # 进入项目目录
   cd /path/to/project
   
   # 创建虚拟环境
   python3 -m venv venv
   source venv/bin/activate
   
   # 安装依赖
   pip install -r requirements.txt
   ```

4. **启动服务**
   ```bash
   python3 douyin_analysis_api_server.py
   ```

5. **打开网页界面**
   - 在浏览器中打开 `douyin_comments_client.html`

## 依赖说明

### 必需依赖

- **fastapi**: Web 框架
- **uvicorn**: ASGI 服务器
- **DrissionPage**: 浏览器自动化（核心依赖）
- **beautifulsoup4**: HTML 解析
- **pandas**: 数据处理（用于导出 Excel）

### 可选依赖

- **jieba**: 中文分词（用于高频词汇分析，如果不需要分析功能可以不装）

## 验证安装

安装完成后，运行：

```bash
python douyin_analysis_api_server.py
```

如果看到以下输出，说明安装成功：

```
INFO:     Started server process
INFO:     Uvicorn running on http://127.0.0.1:8000
```

## 故障排查

### 问题：pip 命令不存在

**解决方案：**
- Windows: 重新安装 Python，确保勾选 "Add Python to PATH"
- macOS/Linux: 使用 `pip3` 代替 `pip`

### 问题：DrissionPage 安装失败

**解决方案：**
```bash
# 升级 pip
pip install --upgrade pip

# 单独安装 DrissionPage
pip install DrissionPage
```

### 问题：Chrome 浏览器找不到

**解决方案：**
- 确保已安装 Chrome 浏览器
- Windows: 通常安装在 `C:\Program Files\Google\Chrome\Application\chrome.exe`
- 如果 Chrome 不在默认位置，可能需要手动配置路径

### 问题：端口 8000 被占用

**解决方案：**
1. 关闭占用端口的程序
2. 或修改代码中的端口号（见 README.md 配置说明）

## 下一步

安装完成后，请查看 [README.md](README.md) 了解如何使用。
